<job>
  <workflow>reserve_workflow</workflow>
  <submitter>phan@redhat.com</submitter>
  <whiteboard>reserve for LVM</whiteboard>
  <recipeSet>
	  <recipe testrepo='development' whiteboard='dell-pe800-01.rhts.bos.redhat.com'>
      <bootargs>ksdevice=link ip=dhcp</bootargs>
      <kickstart>
		  <![CDATA[# Kickstart file automatically generated by anaconda.

install
nfs --server=bigpapi.bos.redhat.com --dir=/vol/engineering/redhat/released/RHEL-4/U7/AS/i386/tree
lang en_US.UTF-8
langsupport --default=en_US.UTF-8 en_US.UTF-8
keyboard us
skipx
network --device eth0 --bootproto dhcp
rootpw --iscrypted $1$z99bKUEo$8H1tMuiIO9AT.3MS80nwQ.
firewall --disabled
selinux --enforcing
authconfig --enableshadow --passalgo=md5
timezone --utc America/New_York
bootloader --location=mbr --append="console=ttyS0"
reboot

# clear previous partitioning
clearpart --all --initlabel --drives=sda, sdb

# required for ia64 ...
#part /boot/efi --fstype vfat --size=100 --ondisk=sda
# for x86_64 comment previous and uncomment this
part /boot --fstype=ext3 --size=200 --ondisk=sda

# phy vol for root filesystem
part pv.01 --fstype ext3 --size=10000 --ondisk=sda

# partitions to use for mirroring
part /mnt/mirrorA1 --size=10000 --ondisk=sda
part /mnt/mirrorA2 --size=10000 --ondisk=sdb
part /mnt/mirrorB1 --size=10000 --ondisk=sda
part /mnt/mirrorB2 --size=10000 --ondisk=sdb

# volume groups for root fs
volgroup ROOT pv.01

# logical volumes - swap and root fs
logvol swap --fstype swap --name=LogVol01 --vgname=ROOT --size=1000 --grow --maxsize=1984 
logvol / --fstype ext3 --name=LogVol00 --vgname=ROOT --size=1024 --grow

%packages --ignoremissing
@Development Libraries
@Administration Tools
@Base
@Core
@Development Tools
@Legacy Network Server
@Network Servers
@System Tools
@Text-based Internet
]]>
      </kickstart>
      <installPackage>emacs</installPackage>
      <installPackage>vim-enhanced</installPackage>
      <distroRequires>ARCH = i386</distroRequires>
      <distroRequires>NAME = RHEL4-U7</distroRequires>
      <distroRequires>FAMILY = RedHatEnterpriseLinux4</distroRequires>
      <hostRequires>FAMILY = RedHatEnterpriseLinux4</hostRequires>
	  <hostRequires>HOSTNAME = dell-pe800-01.rhts.bos.redhat.com</hostRequires>
      <hostRequires>ARCH = i386</hostRequires>
      <test role='STANDALONE' name='/distribution/install'/>
      <test role='STANDALONE' name='/distribution/reservesys'>
        <params>
          <param name='RESERVEBY' value='phan@redhat.com'/>
          <param name='RESERVETIME' value='86400'/>
        </params>
      </test>
    </recipe>
  </recipeSet>
</job>
